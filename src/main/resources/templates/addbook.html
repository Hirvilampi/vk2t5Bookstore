<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head>
    <title>Add book</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <!-- Bootstrap CSS -->
    <link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" />
    <style>
        form {
            margin-left: 5px;
        }

        h1 {
            margin-left: 5px;
        }
    </style>
</head>

<body>
    <h1>Add a new book</h1>

    <form action="#" th:action="@{/save}" th:object="${book}" method="post">

        <p>
            Title <input type="text" placeholder="title" th:field="*{title}" />
        <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Error</div>
        </p>

        <p>
            <label for="author">Author:</label>
            <input type="text" placeholder="author" th:field="*{author}" />
        <div th:if="${#fields.hasErrors('author')}" th:errors="*{author}">Error</div>


        </p>
        <p>
            Year of publication <input type="number" placeholder="year" th:field="*{publicationYear}" />
        </p>
        <p>
            ISBN <input type="text" placeholder="ISBN" th:field="*{isbn}" />
        </p>
        <p>
            Price <input type="number" step="0.01" placeholder="0" th:field="*{price}" />
            <div th:if="${book.price==null}"><span>No price</span></div>
        </p>
        <label for="catlist">Category</label>
        <select id="catlist" th:field="*{category}" class="form-control">
            <option value="" disabled selected>Select a category</option>
            <option th:each="category : ${categories}" th:value="${category.categoryid}" th:text="${category.name}">
            </option>
        </select>


        <input type="submit" class="btn btn-success" value="Add Book" />


    </form>

</body>

</html>